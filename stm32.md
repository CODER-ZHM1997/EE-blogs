stm32是生产环境下的主流的芯片，这个是必会技能啊

教程

- 入门
  - [keysking的个人空间-keysking个人主页-哔哩哔哩视频 (bilibili.com)](https://space.bilibili.com/6100925)
  - [超子说物联网的个人空间-超子说物联网个人主页-哔哩哔哩视频 (bilibili.com)](https://space.bilibili.com/517828171)
  - 杨桃电子：https://www.bilibili.com/video/BV1MW411q7Jn
- [嵌入式计算技术复习 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/668919802)
- [stm32入门的话我应该选哪本书和哪款开发板？ - 知乎 (zhihu.com)](https://www.zhihu.com/question/352194887)
- [STM32中STD、HAL、LL库比较](https://www.cnblogs.com/kerwincui/p/11921932.html)
- 智能家居：https://www.bilibili.com/video/BV1HH4y1o7EN
- [如何做单片机学习笔记](https://www.bilibili.com/video/BV1iN4y117dj/?spm_id_from=333.337.search-card.all.click&vd_source=522153461914a766fc002cc8619314e4)



## 关注点

- [ ] mcu结构
- [ ] IDE
- [ ] GPIO：通用输入输出
- [ ] 时钟
- [ ] 中断：IR
- [ ] 定时器
- [ ] 计数器
- [ ] USART/UART：通用同步/异步传输器
- [ ] SPI：串行外设接口
- [ ] I²C：双线串行接口
  - SDL,SCL
- [ ] CAN：控制器局域网
- [ ] USB：通用串行总线
- [ ] ADC/DAC：数模转换器
- [ ] PWM：脉宽调制
- [ ] DMA：直接存储访问
- [ ] 蜂鸣器控制器
- [ ] IRCV：中断控制器
- [ ] IWDG/WWDG：看门狗
- [ ] 通信协议
- [ ] 文档阅读能力
- [ ] HAL库/LL库
- [ ] 标准库
  - 操作的是寄存器
- [ ] 项目



基础要常补一下，不然你很多东西要被卡的

- 比如各种器件，是用来解决什么问题

看下别人做的一些笔记

- 

每天都要关注一下自己的学习路线，学习进度，不然你是没法通关的



我怎么知道要看哪些文档？要做哪些动作才能实现对应的功能，怎么补基础啊？

- 



怎么判断诊断设备有没有出问题啊？

- 



## 阻塞点

新建项目太麻烦了，如何快速搭建项目？

- 我觉得应该使用cubemx来快速搭建
  - 选芯片型号
  - 配置引脚、时钟、外设，就可以生成代码了



硬件知识哪里补？比如电路符号那里认啊

- 

有没有书推荐一下？

- 



## mcu结构





## IDE





- 



## GPIO

8大工作模式

输入

- 

输出

- 推挽输出：内部驱动
  - 是低电平就输出低电平，是高电平就输出高电平，

- 开漏输出：外部驱动
  - 是低电平就输出电平，是高电平就断开，由外部驱动，无法自己输出高电平，只能靠外部驱动输出高电平


接地与断开有啥区别？

上拉下拉电阻

：只对输入模式有效，对输出模式无效

- 上拉电阻：可以在引脚未接入外部信号时，引脚保持高电平
- 下拉电阻：可以在引脚未接入外部信号时，引脚保持低电平





## 串口通信

：数据通过串行传输，区别于并口，并口可以并行传输，不过没啥卵用

- 同步/异步
  - 同步：靠时钟来同步传输
  - 异步：每个数据帧之间没有固定的事件间隔
- 全双工/半双工
  - 全双工：可以同时发送/接收
  - 半双工：同一事件内只能发送或接收

常见的串口通信

- usi：这四种
- gpio不算，因为串口通信是要有通信协议和时序的，gpio本身没有，但是可以把它配置成串口



串口通信一定是有线的吗？

- 可以由无线来实现，比如蓝牙、wifi



## 常见的外设

外设与外部设备

：不是同一概念

- 外设：是指与芯片中cpu相连的功能模块，用于连接和控制外部设备

外设和cpu（别名内核）都是在芯片里面的

- 

常见的外部设备（器、设备、模块）

- 传感器
  - 温度、湿度、光、加速
- 执行器
  - 继电器
  - 舵机
- 通信模块/通信器
  - 无线类：蓝牙、WiFi
- 显示器
- 音频：麦克风，扬声器
- 存储器
- 时钟模块



## 通信协议

口诀：usicu，即UART,USART,SPI,I2C,CAN,USB,



关注点

- 基础概念
- 适用场景
- 硬件连接
  - 需要多少根线
- 通信模式
  - 点对点，主从，多主
  - 全/半双工
  - 同步&异步
    - 有些既可以同步，又可以异步
- 错误处理
  - 了解可能发生的错误和以及如何发现，错误处理
- 库
  - 有写现有的库可以使用
- 文档
- 调试



## UART

接线

- TX：发射线，接对方的RX
- RX：接收线，接对方的TX



同步通信一定要时钟，或者说时钟就是用来同步的！

什么时候需要同步？同步是为了双方的时钟一致，从而能够正确的读取数据，从而使发送和接收能够正确进行

- 需要高速，可靠的数据传输时
- 不同步容易发生数据丢失，或者是解析错误



## USART

异步通信有啥好处？

- 结构更加简单
  - 不需要时钟同步
- 

什么时候需要异步？

- 



## SPI

：串行外设接口，是一种串行、同步、全双工

特点

- 支持一主多从

接线

- SS：片选信号线
  - 置为高电平或低电平，就会有对应的从机被选中
- SCK，也可以SCLK：时钟信号
  - 4种传输方式，可以是上升沿，下降沿，
- MOSI：数据输出线
- MISO：数据输入线

同步通信需要时钟线



使用场景

- 



## I2C

特点

- 支持一主多从
- 半双工

硬件连接

- SCK：时钟信号
- SDA：数据信号

数据帧格式

- 读操作：起始位+设备地址+读写标志位+应答信号+寄存器地址+应答信号+起始位+设备地址（再重复一遍）+
- 写操作：



设备（存储器）里面有很多寄存器，

- 寄存器容量跟cpu有关，32位的cpu对应寄存器也是32位，即为4字节，也就是一个寄存器对应4字节
- 简单的就一个寄存器对应一个字节





## CAN





## USB





## 时钟

：相当于单片机中的心跳，是为了给系统中各个模块同步的，确保能够协调一直的运行

关注点

- 时钟源
- 时钟树
- PLL锁相环：可以分屏和倍频



一个指令执行需要多个时钟周期，cpu的时钟频率越高，对应的时钟周期越短，那么执行指令的时间越短，

- 指令要的只是时钟周期

1Hz表示每秒完成1个周期，1M Hz则是表示每秒完成1百万次周期

- 

单刀双掷：其实就是活动的开关，有2个不动端，可以接其中一个，也可以一个都不接





## 中断

数字越小，优先级越高

- 

中断分类

- 外部：EXIT
- 内部

 某个中断执行时，有2条规则

- 不会再触发同种中断
- 比它低优先级中断也不会执行

中断与事件

优先级，分2种

- 抢占：主要用这个
- 响应

什么情况下才能发生抢断

- 只有优先级更高的时候，优先级相等都不行



## IWDG





## WWDG





## HAL库

：硬件抽象层

关注点

- 库功能以及支持的外设
- 初始化
- 外设操作方法，比如gpio、uart
- 故障排查&错误处理
- 低功耗模式
- 集成rtos
- 兼容问题
- 获取社区资源





## LL库

：底层库



## 固件库





## 标准库

：每个厂商都不一样，





## 问题

嵌入式代码版本

- 标准库版
- HAL版
- 



串口跟并口？

：本质上是速度的区别，串口一次只能传输一个比特，而并口则是传输多个比特

串口：串行通信的通道，用于与传感器、计算机通信

- 



16位和32的指令集有啥区别？

- 

怎么做设备的选型？

- 从高到低、从大到小

固件库

- 直接作用于硬件，跟软件不同，软件是基于操作系统的

中断

：为了给系统提供实时处理能力，能对紧急时间做出响应，并在之后返回，继续完成被中断的任务

比特率与波特率

区别

- 在于单位不同：比特率是bps，即每秒传输的比特，波特率单位是Bd，即每秒传输的信号元素数量，信号元素可以是比特，也可以是波形变化

一次能发送多少数据，取决于速度和持续时间

- 比如比特率是9600bps，持续了1s，那么就是发送了9600比特

flash与SRAM区别？

单片机中常见的引脚有哪些？各自的功能

- vcc 电源，gnd 负极

PA，PB引脚有啥用？与0、1引脚有啥区别？

- 前者主要是针对某个端口的，一个端口可以对应多个引脚（比如PA0,PA1)，后者则是针对整个单片机的

引脚的功能有哪些？

- 数字输入/输出
- 模拟输入/输出
- 定时器/计数器
- 电源：VCC,GND
- 复位：复位芯片到初始状态
  - 复位对象：寄存器、时钟、引脚
- 中断

开发板上的孔与芯片上的引脚有啥区别？

- 孔是芯片引脚相连的，是为了方便插拔

寄存器有啥用？

：本质上就是存储数据

- 存临时数据
- 存地址，又分内存地址和指令地址



地址可以当成ID来用，因为唯一

有芯片为啥还要有开发板？

- 开发板上

MDK是啥？

- MiniController Development Kit 开发工具套件

串口转换工具

- 能够将usb数据转换为串口数据

usb口与typec口区别

- usb口有正反面之分，typec则是没有
- 形状：usb口梯形，typec则是椭圆

怎么去用keil导入一个别人写好的项目？

蓝牙通信为啥是乱码的？

- 编码不一致：一般是两边用hex编码方式即可
- 波特率不一致：为啥文档

我usb直连的是单片机，不是

为啥要接地GND？什么场景下需要接地？

- 

一般以0v为地，其他也可以为地，1v也可能为地

串口驱动只有一种吗？

- 不是，跟芯片有关

不同的设备，对高低电平的标准不一样

- 这台设备的3v算高电压，在其他设备只能算低电压
- 所以要共底线

什么是端口？

：是单片机中与外界进行通信的通道，一个端口可以对应多个引脚，比如PA0到PA7，一个引脚也可以被多个端口所有，

- 数字输入/输出端口
- 模拟输入/输出端口

怎么算串口？

- 一般是指

1字节对应8位二进制数，对应2位16进制数

口和头

- 口和头连接才能连接，比如USB口和USB头

怎么知道拓扑图应该有那些东西，还有如何连接？

- 根据产品功能逆向推导，靠经验

GND是作为基准电压，测电路中电压的都要接GND来测

导线为啥能接成十字形的？或者是T型，因为电荷自己会跑

- 【支路电线怎么并接主线？老师傅教你T字接线法，再不会虚接发热了】https://www.bilibili.com/video/BV1Ny4y127QD?vd_source=00d0076e0b5ba0c2aa292cd3450f564e

- 

啥是叫总线？

- 总字有汇聚的意思
- 总线表示把各个组件连接的通道

芯片的datasheet有啥用？能够获取到哪些信息？

